import{e as g,i as y,u as A,a as P,r as d,c as u,w as S,b as x,o as L,d as C,f as O}from"../app.DdR5laV-.js";function F(e,n){if(Array.isArray(e))return v(e);if(e==null)return[];n=g(n);const s=Object.keys(e).sort((t,l)=>l.split("/").length-t.split("/").length).find(t=>n.startsWith(g(t))),a=s?e[s]:[];return Array.isArray(a)?v(a):v(a.items,a.base)}function G(e){const n=[];let s=0;for(const a in e){const t=e[a];if(t.items){s=n.push(t);continue}n[s]||n.push({items:[]}),n[s].items.push(t)}return n}function I(e){const n=[];function s(a){for(const t of a)t.text&&t.link&&n.push({text:t.text,link:t.link,docFooterText:t.docFooterText}),t.items&&s(t.items)}return s(e),n}function k(e,n){return Array.isArray(n)?n.some(s=>k(e,s)):y(e,n.link)?!0:n.items?k(e,n.items):!1}function v(e,n){return[...e].map(s=>{const a={...s},t=a.base||n;return t&&a.link&&(a.link=t+a.link),a.items&&(a.items=v(a.items,t)),a})}function J(){const{frontmatter:e,page:n,theme:s}=A(),a=P("(min-width: 960px)"),t=d(!1),l=u(()=>{const f=s.value.sidebar,p=n.value.relativePath;return f?F(f,p):[]}),i=d(l.value);S(l,(f,p)=>{JSON.stringify(f)!==JSON.stringify(p)&&(i.value=l.value)});const r=u(()=>e.value.sidebar!==!1&&i.value.length>0&&e.value.layout!=="home"),o=u(()=>c?e.value.aside==null?s.value.aside==="left":e.value.aside==="left":!1),c=u(()=>e.value.layout==="home"?!1:e.value.aside!=null?!!e.value.aside:s.value.aside!==!1),h=u(()=>r.value&&a.value),w=u(()=>r.value?G(i.value):[]);function m(){t.value=!0}function b(){t.value=!1}function E(){t.value?b():m()}return{isOpen:t,sidebar:i,sidebarGroups:w,hasSidebar:r,hasAside:c,leftAside:o,isSidebarEnabled:h,open:m,close:b,toggle:E}}function M(e,n){let s;x(()=>{s=e.value?document.activeElement:void 0}),L(()=>{window.addEventListener("keyup",a)}),C(()=>{window.removeEventListener("keyup",a)});function a(t){t.key==="Escape"&&e.value&&(n(),s==null||s.focus())}}function N(e){const{page:n,hash:s}=A(),a=d(!1),t=u(()=>e.value.collapsed!=null),l=u(()=>!!e.value.link),i=d(!1),r=()=>{i.value=y(n.value.relativePath,e.value.link)};S([n,e,s],r),L(r);const o=u(()=>i.value?!0:e.value.items?k(n.value.relativePath,e.value.items):!1),c=u(()=>!!(e.value.items&&e.value.items.length));x(()=>{a.value=!!(t.value&&e.value.collapsed)}),O(()=>{(i.value||o.value)&&(a.value=!1)});function h(){t.value&&(a.value=!a.value)}return{collapsed:a,collapsible:t,isLink:l,isActiveLink:i,hasActiveLink:o,hasChildren:c,toggle:h}}export{I as a,N as b,M as c,F as g,J as u};
