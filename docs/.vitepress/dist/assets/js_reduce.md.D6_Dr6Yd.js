import{_ as s,c as i,o as a,a3 as n}from"./chunks/framework.D006jthy.js";const F=JSON.parse('{"title":"Array.reduce() æ˜¯æœ€æœ€æœ€æœ€ä¼Ÿå¤§çš„","description":"","frontmatter":{},"headers":[],"relativePath":"js/reduce.md","filePath":"js/reduce.md"}'),h={name:"js/reduce.md"},k=n(`<h1 id="array-reduce-æ˜¯æœ€æœ€æœ€æœ€ä¼Ÿå¤§çš„" tabindex="-1">Array.reduce() æ˜¯æœ€æœ€æœ€æœ€ä¼Ÿå¤§çš„ <a class="header-anchor" href="#array-reduce-æ˜¯æœ€æœ€æœ€æœ€ä¼Ÿå¤§çš„" aria-label="Permalink to &quot;Array.reduce() æ˜¯æœ€æœ€æœ€æœ€ä¼Ÿå¤§çš„&quot;">â€‹</a></h1><blockquote><p><a href="https://dev.to/mattlewandowski93/arrayreduce-is-goated-1f1j?context=digest" target="_blank" rel="noreferrer">https://dev.to/mattlewandowski93/arrayreduce-is-goated-1f1j?context=digest</a><br> ä½œè€…: Matt Lewandowski<br> è®¸å¤šç®—æ³•éƒ½èƒ½åˆ©ç”¨è¿™ä¸ªæ–¹æ³•,é›†åˆäº†mapå’Œfilter,ä»¥åŠæ€§èƒ½æ–¹é¢ä¹Ÿä¸é”™.å­¦åˆ°å°±æ˜¯èµšåˆ°.<br> 23:42 - 2:00 zzz performance considerations<br> vitepress æœ‰ä¸ªé—®é¢˜,å³è¾¹h2h3æ’ç‰ˆä¸å¯¹,æ˜¾ç¤ºh2,å°±æ²¡æœ‰h3å­æ ‡é¢˜äº†</p></blockquote><h1 id="preivew" tabindex="-1">preivew <a class="header-anchor" href="#preivew" aria-label="Permalink to &quot;preivew&quot;">â€‹</a></h1><p>æ ‡é¢˜å°±æ˜¯æˆ‘æ•´ç¯‡æ–‡ç« éƒ½æƒ³è¯´çš„.æˆ‘æƒ³ä»‹ç»ä¸€ä¸‹,æˆ‘è®¤ä¸ºJavascripté‡Œæ•°ç»„æœ€æœ€æœ€æœ€æœ€æœ€æ£’çš„ä¸€ä¸ªæ–¹æ³•,å°±æ˜¯Array.reduce().æˆ‘çŸ¥é“è¿˜æœ‰å…¶å®ƒä¸é”™çš„æ•°ç»„æ–¹æ³•,ä½†æˆ‘è¿˜æ˜¯æƒ³è¯´,reduce()ä¸å•å•æ˜¯ä¸€ä¸ªæ–¹æ³•,å®ƒ,å¯ä»¥æ˜¯,ä¸€ç§ç”Ÿæ´»æ–¹å¼!âœ¨<br> æˆ‘ä¸æ˜¯å¹.åˆšå¼€å§‹æ¥è§¦è¿™ä¸ªæ–¹æ³•æ—¶æˆ‘ä¹Ÿå®³æ€•æä¸æ‡‚è¿™ä¸ªæ–¹æ³•.ä¸è¿‡ç”¨è¿‡å¾ˆå¤šæ¬¡ä¹‹å,æˆ‘å·²ç»å®Œå…¨æ‡‚äº†,ä»£ç å¾ˆå¤šç‰‡æ®µé‡Œéƒ½èƒ½ç”¨åˆ°å®ƒ.å®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘è½»æ˜“åœ°å¯¹æ•°ç»„è¿›è¡Œå¤æ‚çš„æ“ä½œ,æŠŠæ•°ç»„é¡¹è½¬å˜æˆæˆ‘æƒ³è¦çš„æ ·å­.æˆ‘çš„ä»£ç å˜å¾—åˆç®€æ´åˆæ•ˆç‡äº†. å½“ç„¶,å…‰ç”¨å˜´è¯´æ˜¯æ²¡æœ‰çš„.æ¥ä¸‹æ¥æˆ‘å°±ä¸¾å‡ ä¸ªåº”ç”¨ä¾‹å­,çœ‹çœ‹å®ƒåˆ°åº•èƒ½åšäº›ä»€ä¹ˆ,ä¸ºä»€ä¹ˆæˆ‘ç§°å®ƒæ˜¯æœ€æœ€æœ€æœ€æœ€æ£’çš„.ğŸ</p><h1 id="array-reduce-çš„9ç§åº”ç”¨åœºæ™¯" tabindex="-1">Array.reduce()çš„9ç§åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#array-reduce-çš„9ç§åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;Array.reduce()çš„9ç§åº”ç”¨åœºæ™¯&quot;">â€‹</a></h1><h2 id="åœºæ™¯1-ç´¯åŠ æ•°ç»„" tabindex="-1">åœºæ™¯1:ç´¯åŠ æ•°ç»„ <a class="header-anchor" href="#åœºæ™¯1-ç´¯åŠ æ•°ç»„" aria-label="Permalink to &quot;åœºæ™¯1:ç´¯åŠ æ•°ç»„&quot;">â€‹</a></h2><p>Array.reduce()æœ€ç›´æ¥çš„ä¸€ç§ä½¿ç”¨æ–¹æ³•,å°±æ˜¯å¯¹æ•°ç»„é¡¹çš„æ•°å­—è¿›è¡Œç´¯åŠ å¹¶è·å–ç»“æœ.æ¯”å¦‚è¯´ä¸€ä¸ªæ•°å­—æ•°ç»„,ä½ æƒ³è·å–å®ƒæ‰€æœ‰é¡¹çš„å’Œ:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> numbers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cur, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">consle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sum); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//15</span></span></code></pre></div><p>åªéœ€ä¸€è¡Œä»£ç ,ä½ å°±èƒ½è®¡ç®—æ•´ä¸ªæ•°ç»„æ‰€æœ‰é¡¹çš„å’Œ,å‰å®³å§........<br> åœ¨è¿™é‡Œ,åˆå§‹å€¼æˆ‘ä»¬è®¾å®šä¸º0,è€Œåœ¨æ¯æ¬¡è¿­ä»£(iteration),æˆ‘ä»¬å°±æŠŠå½“å‰éå†åˆ°çš„å…ƒç´ å€¼,æ·»åŠ åˆ°ç´¯ç§¯å€¼ä¸­.<br> ** æé†’ä¸€ä¸‹:å¦‚æœä½ æ²¡æœ‰è®¾å®šåˆå§‹å€¼,é‚£ä¹ˆè¯¥æ•°ç»„çš„ç¬¬ä¸€é¡¹å°±ä¼šä½œä¸ºåˆå§‹å€¼.ä¸è¿‡æˆ‘çš„åšæ³•æ˜¯æ¯æ¬¡éƒ½è®¾ç½®åˆå§‹å€¼,è¿™åˆ©äºæˆ‘é˜…è¯»è¿™æ®µä»£ç .</p><h2 id="åœºæ™¯2-æ‰å¹³åŒ–æ•°ç»„" tabindex="-1">åœºæ™¯2:æ‰å¹³åŒ–æ•°ç»„ <a class="header-anchor" href="#åœºæ™¯2-æ‰å¹³åŒ–æ•°ç»„" aria-label="Permalink to &quot;åœºæ™¯2:æ‰å¹³åŒ–æ•°ç»„&quot;">â€‹</a></h2><p>ä½ é‡åˆ°è¿‡,æ•°ç»„é‡Œé¢åµŒå¥—æ•°ç»„çš„æƒ…å†µå—?(å°±æ˜¯æ•°ç»„é¡¹ä¾æ—§æ˜¯æ•°ç»„)è¿™æ—¶ä½ ä¼šä¸ä¼šæƒ³,&quot;æ€ä¹ˆæ‰èƒ½æŠŠè¿™ä¸ªæ•°ç»„é‡ŒåµŒå¥—æ•°ç»„,è½¬åŒ–æˆåªæœ‰ä¸€å±‚çš„æ™®é€šæ•°ç»„å‘¢?&quot;</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nestedArray</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[][] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> flattenedArray</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nestedArray.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">concat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cur),[]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¦‚æœæ˜¯å¤šå±‚åµŒå¥—,ç”¨å‡½æ•°å®ç°éœ€è¦é€’å½’,ä»¥ä¸‹ä»£ç æ˜¯è‡ªå·±çš„ç†è§£éåŸæ–‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> flattenArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">concat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cur)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flattenArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cur)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cur),[]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ç”šè€…å¯ä»¥ç›´æ¥ç”¨Array.flat()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Infinity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>ä¾‹å­ä¸­æˆ‘ä»¬è®¾ç½®ç©ºæ•°ç»„ä¸ºåˆå§‹å€¼.ç„¶åæ¯æ¬¡è¿­ä»£,éƒ½æŠŠå½“å‰éå†åˆ°çš„æ•°ç»„é¡¹&quot;è¿æ¥(concatenate)åˆ°ç´¯åŠ å€¼ä¸Š,æœ€åæˆ‘ä»¬å°±èƒ½å¾—åˆ°ä¸€ä¸ªç”±ä¸¤å±‚åµŒå¥—,åˆ°æ™®é€šçš„æ•°ç»„äº†.<br> æˆ‘çŸ¥é“ä½ ä¹ŸçŸ¥é“Array.flat()è¿™ä¸ªæ–¹æ³•.ä¸è¿‡,æˆ‘è¿˜æ˜¯å»ºè®®ä½ çŸ¥é“è¿™ä¸ªæ‰å¹³åŒ–çš„è¿‡ç¨‹,è¿™æ ·ä½ èƒ½åœ¨è¿™åŸºç¡€ä¸Šä½œå‡ºæ›´å¤šçš„æ“ä½œ.</p><h2 id="åœºæ™¯3-å¯¹è±¡åˆ†ç±»" tabindex="-1">åœºæ™¯3:å¯¹è±¡åˆ†ç±» <a class="header-anchor" href="#åœºæ™¯3-å¯¹è±¡åˆ†ç±»" aria-label="Permalink to &quot;åœºæ™¯3:å¯¹è±¡åˆ†ç±»&quot;">â€‹</a></h2><p>æƒ³è±¡ä¸€ä¸‹ä½ ç°åœ¨æœ‰ä¸€ä¸ªå…¨æ˜¯å¯¹è±¡çš„æ•°ç»„,ä½ è¦æ ¹æ®å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç±».è¿™æ—¶å€™reduce()å°±æœ‰å¤§ç”¨å¤„äº†.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  age</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> people</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">People</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Alice&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Bob&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Charlie&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Dave&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> groupeByAge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> people.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc[cur.age]){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    acc[cur.age] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  acc[cur.age].push[cur];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},{});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ€è·¯æ˜¯ç›®æ ‡è·å¾—ä¸€ä¸ªå¯¹è±¡,å±æ€§åæ˜¯å¹´é¾„,å±æ€§å€¼æ˜¯è¯¥å¹´é¾„çš„æ•´ä¸ªå¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ²¡æœ‰å¹´é¾„,é‚£å°±åˆ›å»ºå¹´é¾„,å€¼æ˜¯ç©ºæ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æœ‰å¹´é¾„,å°±æŠŠè¿™ä¸ªå¹´é¾„çš„å¯¹è±¡ç»™æ·»åŠ åˆ°è¿™ä¸ªæ•°ç»„.</span></span></code></pre></div><p>è¿™é‡Œæˆ‘ä»¬æŠŠä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºåˆå§‹å€¼.å…ˆæŸ¥æ‰¾ç´¯ç§¯è·å¾—çš„å¯¹è±¡ä¸­æ˜¯å¦å·²ç»å­˜åœ¨è·Ÿå½“å‰éå†åˆ°çš„å¯¹è±¡çš„å¹´é¾„çš„å±æ€§.å¦‚æœæ²¡æœ‰å°±ä¸ºè¿™ä¸ªå¹´é¾„åˆ›å»ºä¸€ä¸ªå±æ€§,å€¼æ˜¯ç©ºæ•°ç»„.ä¹‹åæˆ‘ä»¬æŠŠå½“å‰è¿™ä¸ªå¯¹è±¡æ·»åŠ åˆ°å¯¹åº”å¹´é¾„çš„æ•°ç»„ä¹‹ä¸­.æœ€ç»ˆæˆ‘ä»¬è·å¾—çš„,æ˜¯ä¸€ä¸ªç”±å¹´é¾„æ˜¯å±æ€§å,å€¼ä¸ºå¯¹åº”å¹´é¾„çš„å¯¹è±¡æ•°ç»„çš„,å¯¹è±¡.<br> å½“ç„¶å½“ç„¶,ä½ ä¹ŸçŸ¥é“groupByè¿™ä¸ªè‡ªå¸¦çš„åˆ†ç±»æ–¹æ³•.æˆ‘ä¹ŸçŸ¥é“ä½ çŸ¥é“æˆ‘è¦è¯´ä»€ä¹ˆ:è¿™å°±æ˜¯åŸºç¡€,çœ‹çœ‹å¦‚ä½•è‡ªå·±å®ç°ç½¢äº†.</p><h2 id="åœºæ™¯4-æ„é€ æŸ¥æ‰¾è¡¨-lookup-map" tabindex="-1">åœºæ™¯4:æ„é€ æŸ¥æ‰¾è¡¨(lookup map) <a class="header-anchor" href="#åœºæ™¯4-æ„é€ æŸ¥æ‰¾è¡¨-lookup-map" aria-label="Permalink to &quot;åœºæ™¯4:æ„é€ æŸ¥æ‰¾è¡¨(lookup map)&quot;">â€‹</a></h2><p>æˆ‘æœ€å–œæ¬¢reduce()æ–¹æ³•çš„ä¸€ä¸ªåŸå› å°±æ˜¯,æˆ‘å¯ä»¥åˆ©ç”¨å®ƒ,ç”±ä¸€ä¸ªæ•°ç»„åˆ›å»ºå‡ºä¸€ä»½æŸ¥æ‰¾è¡¨.è¿™å¯¹äºæ€§èƒ½å’Œä»£ç å¯è¯»æ€§æ¥è¯´æ˜¯ç›¸å½“é‡è¦çš„.è¯•è¯•ç”¨å®ƒæ›¿æ¢æ‰ä¹‹å‰çš„find()æˆ–filter()å§.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Produce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  price</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> products</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Product</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Laptop&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">999</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Phone&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">699</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Tablet&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">499</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> productMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Product</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> products.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  acc[cur.id] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cur;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},{});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(productMap);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">Output:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &#39;1&#39;: { id: 1, name: &#39;Laptop&#39;, price: 999 },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &#39;2&#39;: { id: 2, name: &#39;Phone&#39;, price: 699 },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &#39;3&#39;: { id: 3, name: &#39;Tablet&#39;, price: 499 }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span></code></pre></div><p>è¿™æ ·é€šè¿‡reduce()å¤„ç†å,ä½ å°±èƒ½é€šè¿‡å®ƒä»¬çš„idç›´æ¥è·å–åˆ°å¯¹åº”å…ƒç´ äº†,ä¸éœ€è¦é€šè¿‡å¾ªç¯æ¥æŸ¥æ‰¾æŸä¸ªç‰¹å®šé¡¹äº†. (????æ˜¯å¦æœ‰ç‚¹æœ¬æœ«å€’ç½®?)</p><h2 id="åœºæ™¯5-è®¡ç®—é¡¹çš„å‡ºç°æ¬¡æ•°" tabindex="-1">åœºæ™¯5:è®¡ç®—é¡¹çš„å‡ºç°æ¬¡æ•° <a class="header-anchor" href="#åœºæ™¯5-è®¡ç®—é¡¹çš„å‡ºç°æ¬¡æ•°" aria-label="Permalink to &quot;åœºæ™¯5:è®¡ç®—é¡¹çš„å‡ºç°æ¬¡æ•°&quot;">â€‹</a></h2><p>å‡è®¾ä½ è¦ç»Ÿè®¡ç›¸åŒå…ƒç´ åœ¨æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°,reduce()èƒ½å¸®åˆ°ä½ .</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ€è·¯æ˜¯é¡¹ä½œä¸ºå±æ€§,å‡ºç°çš„æ¬¡æ•°ä½œä¸ºå¯¹åº”å±æ€§å€¼,æ— åˆ™åˆ›å»ºå¹¶è®¾ä¸º1,æœ‰åˆ™å½“å‰å¯¹åº”çš„å€¼+1;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fruits</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apple&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;banana&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apple&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;orange&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;banana&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apple&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fruitsCount</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fruits.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  acc[cur] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (acc[cur] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},{});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">Output:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &#39;apple&#39;: 3,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &#39;banana&#39;: 2,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &#39;orange&#39;: 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span></code></pre></div><p>åˆå§‹å€¼æ˜¯ç©ºå¯¹è±¡,æˆ‘ä»¬éå†æ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦å·²ç»ä½œä¸ºå¯¹è±¡å±æ€§å­˜åœ¨äºç´¯ç§¯å¯¹è±¡ä¸­.å¦‚æœå·²ç»æœ‰äº†,é‚£å°±åœ¨å¯¹åº”çš„å±æ€§ä¸­æŠŠå€¼åŠ 1.å¦‚æœæ²¡æœ‰,å°±æŠŠå…ƒç´ åä½œä¸ºå±æ€§å,å±æ€§å€¼ä¸º1æ·»åŠ åˆ°ç´¯ç§¯å¯¹è±¡ä¸Š.æœ€ç»ˆå¾—åˆ°çš„ç»“æœå°±æ˜¯ä¸€ä¸ª,æ•°ç»„é¡¹ä½œä¸ºå±æ€§å,å‡ºç°æ¬¡æ•°ä½œä¸ºå¯¹åº”å±æ€§å€¼çš„å¯¹è±¡.</p><h2 id="åœºæ™¯6-ç»„åˆå‡½æ•°" tabindex="-1">åœºæ™¯6:ç»„åˆå‡½æ•° <a class="header-anchor" href="#åœºæ™¯6-ç»„åˆå‡½æ•°" aria-label="Permalink to &quot;åœºæ™¯6:ç»„åˆå‡½æ•°&quot;">â€‹</a></h2><p>è¿™ä¸ªåŠŸèƒ½ç®€ç›´å‡½æ•°å¼ç¼–ç¨‹è€…ç‹‚å–œ.reduce()å¯¹äºå¤åˆå‡½æ•°æ¥è¯´ç®€ç›´å¤ªæœ‰ç”¨äº†.ä½ å¯ä»¥ç”¨å®ƒæ¥åˆ›å»ºä¸€è¿ä¸²çš„å‡½æ•°,ä¸€æ­¥ä¸€æ­¥åœ°å¤„ç†ä½ çš„æ•°æ®.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> multiply3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> * </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> subtract2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> composedFunctions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number)[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[add5, multiply3,subtract2];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> composedFunctions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(acc);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//43 =&gt; (10+5)*3-2</span></span></code></pre></div><p>ä»¥ä¸Šå°±æ˜¯,æŠŠä¸€è¿ä¸²éœ€è¦è¿›è¡Œçš„å‡½æ•°æ“ä½œ,é€šè¿‡æ•°ç»„çš„æ–¹å¼,åˆ©ç”¨reduce,é€ä¸ªä½œç”¨åˆ°åˆå§‹å€¼10ä¸Šé¢.æ¯ç»è¿‡ä¸€ä¸ªå‡½æ•°çš„æ“ä½œ,å°±æŠŠè¯¥å¤„ç†ç»“æœä¼ ç»™ä¸‹ä¸€ä¸ªå‡½æ•°ç»§ç»­æ“ä½œ,ä»¥æ­¤ç±»æ¨.æœ€ç»ˆå¾—åˆ°çš„ç»“æœå°±æ˜¯æŒ‰æ•°ç»„é¡ºåºå¤„ç†è·å¾—çš„è®¡ç®—ç»“æœ.</p><h2 id="åœºæ™¯7-å®ç°ä¸€ä¸ªç±»reduxçš„çŠ¶æ€ç®¡ç†å™¨" tabindex="-1">åœºæ™¯7:å®ç°ä¸€ä¸ªç±»Reduxçš„çŠ¶æ€ç®¡ç†å™¨ <a class="header-anchor" href="#åœºæ™¯7-å®ç°ä¸€ä¸ªç±»reduxçš„çŠ¶æ€ç®¡ç†å™¨" aria-label="Permalink to &quot;åœºæ™¯7:å®ç°ä¸€ä¸ªç±»Reduxçš„çŠ¶æ€ç®¡ç†å™¨&quot;">â€‹</a></h2><p>å¦‚æœä½ ç”¨è¿‡Redux,ä½ å°±çŸ¥é“å®ƒåœ¨çŠ¶æ€ç®¡ç†æ–¹é¢æœ‰å¤šå¥½ç”¨äº†.ä¸è¿‡ç°åœ¨,ä½ å¯ä»¥ç›´æ¥ç”¨reduceå®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆçš„Redux.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> State</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  todos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> initialState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  count:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  todos:[],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> actions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;INCREMENT_COUNT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ADD_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Learn Array.reduce()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;INCREMENT_COUNT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ADD_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Master Typescript&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reducer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">State</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action.type){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;INCREMENT_COUNT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state,count:state.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ADD_TODO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state,todos:[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state.todos,action.payload];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    default:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      return state;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> finalState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> actions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reducer,initialState);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(finalState);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">Output:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  count: 2,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  todos: [&#39;Learn Array.reduce()&#39;, &#39;Master TypeScript&#39;]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¯ä»¥çœ‹æœ€åä¸€å¥,ç†Ÿæ‚‰å¾—ä¸å¾—äº†äº†,actions.reduce(reducer,initialValue)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//é€šè¿‡å¤„ç†ä¸€ä¸‹initialValueå’Œreducer,ç›´æ¥å˜æˆäº†ä¸€ä¸ªåºå¤§çš„,ä½œç”¨äºæ•´ä¸ªé¡¹ç›®çš„çŠ¶æ€ç®¡ç†å·¥å…·äº†.</span></span></code></pre></div><p>è¿™ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬æœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€å¯¹è±¡,ä»¥åŠä¸€ç³»åˆ—çš„actionsæ“ä½œ.æˆ‘ä»¬çš„reducerå‡½æ•°ä¸­,æŠŠçŠ¶æ€å¯¹è±¡ä½œä¸ºç´¯ç§¯å€¼,æŠŠactionä½œä¸ºä½œç”¨äºçŠ¶æ€å¯¹è±¡çš„å‡½æ•°,æœ€åè¿”å›ä¸€ä¸ªç»è¿‡ä¸€ç³»åˆ—å¤„ç†çš„,æœ€ç»ˆçŠ¶æ€å¯¹è±¡.è¿™ä¸€ç³»åˆ—æ“ä½œ,å°±æ˜¯é€šè¿‡reduce()éå†å®Œæˆçš„.å…¶å®,è¿™å°±æ˜¯ä¸€ä¸ªç®€æ˜“ç‰ˆçš„Redux.<br> ç±»æ¯”ä¸€ä¸‹, reduce((acc,cur) =&gt;{/.../},{});<br> reduce(reducer,initialValue);<br> å¯¹åº”çš„,å°±æ˜¯ reducer == (acc,cur) =&gt; {/.../}<br> å†å¯¹åº”ä¸€ä¸‹ä¸Šé¢çš„compose functions, return cur[acc]<br> actions.reduce(reducer,initialValue);<br> Reduxçš„æœ¬è´¨æ˜¯,å¯¹çŠ¶æ€å¯¹è±¡,è¿›è¡Œç›¸åº”çš„æ“ä½œ,è€Œè¯¥å¯¹åº”çš„è¡Œä¸º,å®šä¹‰åŠå‘ç”Ÿåœ¨reducerä¹‹ä¸­,æœ€åè¿”å›ç»è¿‡ä¸€ç³»åˆ—æ“ä½œåçš„çŠ¶æ€å¯¹è±¡.</p><h2 id="åœºæ™¯8-ç”Ÿæˆæ— é‡å¤é¡¹çš„æ•°ç»„" tabindex="-1">åœºæ™¯8:ç”Ÿæˆæ— é‡å¤é¡¹çš„æ•°ç»„ <a class="header-anchor" href="#åœºæ™¯8-ç”Ÿæˆæ— é‡å¤é¡¹çš„æ•°ç»„" aria-label="Permalink to &quot;åœºæ™¯8:ç”Ÿæˆæ— é‡å¤é¡¹çš„æ•°ç»„&quot;">â€‹</a></h2><p>æœ‰æ—¶å€™ä½ çš„æ•°ç»„ä¸­çš„å€¼å¯èƒ½ä¼šé‡åˆ,è€Œä½ åˆè¦ä½¿å…¶å”¯ä¸€.reduce()å¯ä»¥è½»æ˜“å¸®ä½ å®ç°è¿™ä¸ªåŠŸèƒ½.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> numbers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> uniqueNumebrs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //acc.includes(cur)?null : acc.push(cur);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cur)) acc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cur);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},[]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uniqueNumbers); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Output: [1, 2, 3, 4, 5, 6]</span></span></code></pre></div><p>ç©ºæ•°ç»„ä½œä¸ºåˆå§‹ç´¯åŠ å€¼.éå†åˆ°çš„åŸæ•°ç»„å…ƒç´ ,æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å·²ç»å­˜åœ¨äºç´¯åŠ å™¨ä¸­,è¿™é‡Œé€šè¿‡includes()æ£€æŸ¥.<br> å¦‚ä¸å­˜åœ¨,åˆ™æ·»åŠ åˆ°ç´¯åŠ å™¨;å¦åˆ™ç›´æ¥è¿”å›è·³è¿‡.</p><h2 id="åœºæ™¯9-è®¡ç®—å¹³å‡å€¼" tabindex="-1">åœºæ™¯9:è®¡ç®—å¹³å‡å€¼ <a class="header-anchor" href="#åœºæ™¯9-è®¡ç®—å¹³å‡å€¼" aria-label="Permalink to &quot;åœºæ™¯9:è®¡ç®—å¹³å‡å€¼&quot;">â€‹</a></h2><p>é‚£ä¹ˆ,è¦æ€æ ·è®¡ç®—æ•°ç»„çš„å¹³å‡å€¼å‘¢?reduce()ä¹Ÿå¯ä»¥å¸®åˆ°ä½ !(?)</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ€è·¯, å…ˆè®¡ç®—å’Œ,ç´¯åŠ åˆ°æœ€åä¸€é¡¹åé™¤ä»¥æ•°ç»„é•¿åº¦.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> grades</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">85</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">92</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">88</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> average</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">acc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  acc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cur;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(index </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acc;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>æˆ‘ä»¬è®¾ç½®åˆå§‹å€¼ä¸º0.æ¯æ¬¡è¿­ä»£åˆ°æ•°ç»„é¡¹æ—¶å°±æŠŠå®ƒåŠ åˆ°ç´¯åŠ å€¼ä¸Š.å½“æˆ‘ä»¬è¿­ä»£åˆ°æœ€åä¸€ä¸ªå…ƒç´ æ—¶(é€šè¿‡è¿­ä»£åˆ°çš„ç´¢å¼•å€¼indexå’Œæ•´ä¸ªæ•°ç»„çš„é•¿åº¦å¯¹æ¯”),æˆ‘ä»¬å°±æŠŠç´¯åŠ çš„å€¼é™¤ä»¥æ•°ç»„é¡¹çš„ä¸ªæ•°å³å¯.</p>`,41),p=[k];function l(t,e,E,r,d,g){return a(),i("div",null,p)}const c=s(h,[["render",l]]);export{F as __pageData,c as default};
