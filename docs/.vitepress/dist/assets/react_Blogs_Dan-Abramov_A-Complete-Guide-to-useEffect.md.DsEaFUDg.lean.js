import{_ as e}from"./app.D2JXt0pu.js";import{c as l,o as p,Z as a,x as s,a as i}from"./chunks/vendor.GdCD6OUn.js";const t="/useEffectBlog/counter.gif",b=JSON.parse('{"title":"一份完整的useEffect使用指南","description":"","frontmatter":{},"headers":[],"relativePath":"react/Blogs/Dan-Abramov/A-Complete-Guide-to-useEffect.md","filePath":"react/Blogs/Dan-Abramov/A-Complete-Guide-to-useEffect.md","lastUpdated":1738215852000}'),h={name:"react/Blogs/Dan-Abramov/A-Complete-Guide-to-useEffect.md"};function k(r,n,c,E,d,o){return p(),l("div",null,n[0]||(n[0]=[a("",45),s("p",null,[i("如果你看到的和你预想的不太一样,想想这个更加实际的例子:一个存储接受者ID作为状态和一个点击按钮的聊天应用.这篇文章详细地解释了原因,但上面步骤count的最终值是 -- "),s("span",{className:"font-bold text-red-500"},"3"),i("."),s("br"),i(" alert提示的值,是你"),s("strong",null,"点击按钮那一刻时的count值"),i("."),s("br"),i(" (其实你用其它方法来获得5也是可以的,不过我们先关注它的默认行为.我们在起步搭建React的心智模式啊,"),s("strong",null,"应该更关注最本质的行为(path of least resistance),而暂时不是学习使用技巧"),i(".)")],-1),a("",4),s("p",null,[i("在这个例子中,"),s("code",null,"someone"),i("变量被改变了几次(就像在React中,当前组件的状态可以改变一样).不过在"),s("code",null,"sayHI"),i("函数里有一个局部常量"),s("code",null,"name"),i(",它与每次调用函数时传进来的person对象相关.这个常量是局部的,所以调用与调用之间互不关联(isolated).最终,当倒计时到时,每次的alert都能记住属于那一刻的"),s("code",null,"name"),i("."),s("br"),s("span",{className:"text-green-300"},[i("(个人问题:是闭包吗?传个对象进来把某一部分取出来作为用处,直到alert)"),s("br"),i(" (正常是不是应该someone改变指向时,前一对象就被回收了?)")])],-1),a("",3)]))}const y=e(h,[["render",k]]);export{b as __pageData,y as default};
