import{_ as r,c as t,o as a,ak as o,j as i}from"./chunks/framework.BeJGjSYE.js";const S=JSON.parse('{"title":"åˆåœ¨Server Actionsé—®é¢˜é‡Œé‡åˆ°çš„é—®é¢˜","description":"","frontmatter":{},"headers":[],"relativePath":"react/Practice/Server-Actions2.md","filePath":"react/Practice/Server-Actions2.md","lastUpdated":1744869439000}'),c={name:"react/Practice/Server-Actions2.md"};function s(l,e,d,n,_,m){return a(),t("div",null,e[0]||(e[0]=[o('<h1 id="åˆåœ¨server-actionsé—®é¢˜é‡Œé‡åˆ°çš„é—®é¢˜" tabindex="-1">åˆåœ¨Server Actionsé—®é¢˜é‡Œé‡åˆ°çš„é—®é¢˜ <a class="header-anchor" href="#åˆåœ¨server-actionsé—®é¢˜é‡Œé‡åˆ°çš„é—®é¢˜" aria-label="Permalink to â€œåˆåœ¨Server Actionsé—®é¢˜é‡Œé‡åˆ°çš„é—®é¢˜â€">â€‹</a></h1><h2 id="é—®é¢˜" tabindex="-1">é—®é¢˜ <a class="header-anchor" href="#é—®é¢˜" aria-label="Permalink to â€œé—®é¢˜â€">â€‹</a></h2><ol><li>ç»“åˆäº†<code>use</code>APIåæ‰å‘ç°, ä¼ é€’çš„Server Action Promiseåªé’ˆå¯¹GETè¯·æ±‚;POSTè¯·æ±‚ç›´æ¥å°±ä¼šè¢«æ‰§è¡Œè€Œä¸æ˜¯ç»‘å®šäº‹ä»¶å¤„ç†å™¨;</li><li>Mongoé‡Œçš„ç¥å¥‡é—®é¢˜: æ ¼å¼æ ¡éªŒä¸é€šè¿‡æ— æ³•å†™å…¥æ•°æ®åº“.ä¹‹å‰æ˜¯å¯ä»¥çš„, Dateç±»å‹çš„æ•°æ®å˜å­—ç¬¦ä¸²äº†(?)</li><li>redisç¼“å­˜çš„é—®é¢˜(æœªè§£å†³): (GET)è·å–åˆ—è¡¨æ—¶ç›´æ¥è¿”å›å¯¹åº”é”®åçš„å€¼, æ›´æ–°(POST)ä¹‹å,GETå› ä¸ºå¯¹åº”KEYå€¼å­˜åœ¨,ç›´æ¥è¿”å›äº†åŸå§‹KEYçš„å€¼,å“ªæ€•å€¼å·²ç»è¢«æ–°æ’å…¥æ•°æ®.</li><li>å®¢æˆ·ç«¯ç»„ä»¶è§¦å‘Server Actionèƒ½å¦è„±ç¦»formç»„ä»¶?</li></ol><ul><li>å•ä¸€ä¸ªbutton,è¦æŠ½å‡ºæ¥å•ç‹¬å®¢æˆ·ç«¯ç»„ä»¶å…ˆä¸è¯´,</li><li>è¿˜è¦åŒ…è£¹åˆ°formå…ƒç´ é‡Œ;</li><li>è¿˜è¦è°ƒç”¨<code>useActionState</code>, ç»‘å®š<code>formAction</code>äº‹ä»¶;</li></ul>',4),i("div",{className:"font-bold text-gray-500 text-xl"},"å¤ªå¤ªå¤ªå¤ªå¤ªå¤ªéº»çƒ¦äº†å§ğŸ˜£",-1),o('<hr><div class="text-red-500 font-bold text-xl"> å°±ç®—æ˜¯æ€»ç»“ä¸€ç¯‡Server Actionsçš„æ–‡ç« .åŒ…æ‹¬ServerActionsçš„ä¼ é€’é—®é¢˜ </div><hr><p>ä¸çŸ¥é“æ ¡éªŒè¿™ä¸ªé—®é¢˜æŠŠæˆ‘å¸¦åˆ°å“ªäº†,å…ˆè®°å½•ä¸€ä¸‹ æƒ³Next.js+Express+Mongooseå®ç°ç±»å‹å®‰å…¨,å‘ç°éœ€è¦å®ç°éªŒè¯çš„åœ°æ–¹æœ‰:</p><ol><li>zod + server actions, <code>createUserScheme</code>, <code>schema.safeParse</code>å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œæ ¡éªŒ;</li><li>express + zod, åœ¨Mongooseé‡Œ,åˆ©ç”¨<code>model.safeParse</code>,åœ¨çœŸæ­£æ“ä½œæ•°æ®åº“å‰å†è¿›è¡Œä¸€æ¬¡éªŒè¯.(åªæ˜¯ä¸ºäº†è·³è¿‡å®¢æˆ·ç«¯,ç›´æ¥é€šè¿‡æœåŠ¡å™¨ç«¯å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ.æ ¡éªŒæ˜¯ä¸€æ ·çš„,ä¸€ä¸ªå‰ç«¯ä¸€ä¸ªåç«¯.)</li><li>åœ¨models,åˆ©ç”¨TS,åŠåˆ›å»ºdatabase schemaæ—¶å¯¹æ•°æ®åº“ç±»å‹è¿›è¡Œçº¦æŸ.(?åˆ›å»ºäº†ä¹‹åä¸å°±æ²¡ç”¨äº†å—?)</li></ol><p>ä¼˜åŒ–ç‚¹:</p><ul><li>å…±äº«<code>createUserSchema</code></li><li>åˆ©ç”¨<code>zod.infer</code>å®ç°ç±»å‹æ¨å¯¼;</li><li>åˆ©ç”¨ä¸­é—´ä»¶è¿›è¡Œæ•°æ®æ ¡éªŒ?å“ªäº›è¯·æ±‚éœ€è¦?</li><li>æ€ä¹ˆç”¨monorepoå…±äº«schema?</li></ul><p>// ä½¿ç”¨monorepo, å…±äº«äº†schema, å¤±å»äº†dev turbopack. å‰è€…ç”¨äºæ ¡éªŒ, åè€…ç”¨äºå¿«é€Ÿå¯åŠ¨é¡¹ç›®</p><p>// left ç”¨å…±äº«çš„schemaå®ç°next + expressç«¯çš„æ ¡éªŒ + deepseekèŠå¤©è®°å½•</p>',9)]))}const h=r(c,[["render",s]]);export{S as __pageData,h as default};
